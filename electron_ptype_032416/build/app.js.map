{"version":3,"file":"app.js","sources":["app/hello_world/hello_world.js","app/env.js","app/lib/transform.js","app/lib/game-object.js","app/lib/ship.js","app/lib/shipyard.js","app/lib/game-manager.js","app/app.js"],"sourcesContent":["export var greet = function () {\n    return 'Hello World!';\n};\n\nexport var bye = function () {\n    return 'See ya!';\n};\n","// Simple module exposes environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\nvar app;\nif (process.type === 'renderer') {\n    app = require('electron').remote.app;\n} else {\n    app = require('electron').app;\n}\nvar appDir = jetpack.cwd(app.getAppPath());\n\nvar manifest = appDir.read('package.json', 'json');\n\nexport default manifest.env;\n","'use strict';\n\nconst linearAlgebra = require('linear-algebra')(),\n\tVector = linearAlgebra.Vector,\n\tMatrix = linearAlgebra.Matrix;\n\nMatrix.sqrDistance = function (fromVector, toVector) {\n\tlet displacement = fromVector.minus(toVector);\n\tlet sqrDist = displacement.map(function(v) {\n\t\treturn v * v;\n\t});\n\treturn sqrDist.getSum();\n};\n\nMatrix.distance = function(fromVector, toVector) {\n\treturn Math.sqrt(Matrix.sqrDistance(fromVector, toVector));\n};\n\nexport class Transform {\n\tconstructor(position) {\n\t\tposition ? this.position = position : this.position = new Matrix([0, 0, 0]);\n\t}\n\n\ttranslate(translation) {\n\t\tthis.position = this.position.plus(translation);\n\t\treturn this.position.toArray();\n\t}\n\n\ttranslate(x, y, z) {\n\t\tthis.position = this.position.plus(new Matrix([x, y, z]));\n\t\treturn this.position.toArray();\n\t}\n\n\tmoveTo(x, y, z) {\n\t\tthis.position = new Matrix([x, y, z]);\n\t}\n}","'use strict';\n\nimport { Transform } from './transform';\n\nexport class GameObject {\n\tconstructor(properties) {\n\t\tthis.name = properties.name;\n\t\tthis.transform = new Transform(properties.position);\n\t}\n}","'use strict';\n\nimport { GameObject } from './game-object';\n\nexport class Ship extends GameObject {\n\tconstructor(properties) {\n\t\tsuper(properties);\n\t\tthis.speed = properties.speed;\n\t\tthis.crewMax = properties.crewMax;\n\t\tthis.food = properties.food;\n\t\tthis.foodMax = properties.foodMax;\n\t\tthis.oxy = properties.oxy;\n\t\tthis.oxyMax = properties.oxyMax;\n\t\tthis.water = properties.water;\n\t\tthis.waterMax = properties.waterMax;\n\t\tthis.captain = null;\n\t\tthis.comms = null;\n\t\tthis.quartermaster = null;\n\t\tthis.nav = null;\n\t\tconsole.log(\"created a ship with name \" + properties.name);\n\t}\n\n\taddFood (amount) {\n\t\tif (food + amount <= foodMax) {\n\t\t\tfood = food + amount;\n\t\t\treturn 0;\n\t\t} else {\n\t\t\tlet overflow = foodMax - food;\n\t\t\tfood = foodMax;\n\t\t\treturn overflow;\n\t\t}\n\t}\n\n\ttranslate (x, y, z) {\n\t\tthis.transform.translate(x, y, z);\n\t}\n\n\tmove (val) {\n\t\tthis.transform.translate(val.direction[0] * val.speed, val.direction[1] * val.speed, val.direction[2] * val.speed);\n\t}\n\n}\n\n","'use strict';\n\nimport { Ship } from './ship';\n\nexport class Shipyard {\n\tconstructor(properties) {\n\t\tconsole.log(\"created a shipyard\")\n\t\tthis.properties = properties;\n\t\tthis.shipList = [];\n\t\tthis.shipTemplate = {\n\t\t\tname: 'prototypeShip',\n\t\t\tspeed: 5,\n\t\t\tcrewMax: 20,\n\t\t\tfood: 0,\n\t\t\tfoodMax: 100,\n\t\t\toxy: 0,\n\t\t\toxyMax: 100,\n\t\t\twater: 0,\n\t\t\twaterMax: 100\n\t\t};\n\t}\n\n\tbuildShip(properties) {\n\t\tconsole.log(\"spawning a ship with properties:\\n \" + properties.name);\n\t\tlet s = new Ship(properties);\n\t\tthis.shipList.push(s);\n\t\treturn s;\n\t}\n}","'use strict';\n\nimport { Shipyard } from './shipyard';\n\nexport class GameManager {\n\tconstructor(args) {\n\t\tconsole.log(\"constructing game manager\")\n\t\tthis.shipyard = new Shipyard();\n\t\tthis.ship = this.shipyard.buildShip(this.shipyard.shipTemplate);\n\t\tconsole.log(this.ship);\n\n\t\tlet newPos = this.ship.translate(1, 1, 1);\n\t}\n\n\tupdate (deltaTime) {\n\t\tthis.ship.move({direction: [1, 0, 1], speed: 1 / deltaTime});\n\t}\n\n\ttimer () {\n\t\tvar d = new Date();\n\t\tdocument.getElementById(\"demo\").innerHTML = d.toLocaleTimeString();\n\t}\n};","// Here is the starting point for your application code.\n// All stuff below is just to show you how it works. You can delete all of it.\n\n// Use new ES6 modules syntax for everything.\nimport os from 'os'; // native node.js module\nimport { remote } from 'electron'; // native electron module\nimport jetpack from 'fs-jetpack'; // module loaded from npm\nimport { greet } from './hello_world/hello_world'; // code authored by you in this project\nimport env from './env';\n\nimport { GameManager } from './lib/game-manager'\n\nlet framerate = 1000 / 60\n\nlet gm = new GameManager();\n\nconsole.log('Loaded environment variables:', env);\n\nvar app = remote.app;\nvar appDir = jetpack.cwd(app.getAppPath());\n\n// Holy crap! This is browser window with HTML and stuff, but I can read\n// here files like it is node.js! Welcome to Electron world :)\nconsole.log('The author of this app is:', appDir.read('package.json', 'json').author);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    document.getElementById('greet').innerHTML = greet();\n    document.getElementById('platform-info').innerHTML = os.platform();\n    document.getElementById('env-name').innerHTML = env.name;\n    document.getElementById('ship-name').innerHTML = gm.ship.name;\n\tdocument.getElementById(\"pos-name\").innerHTML = gm.ship.transform.position.data;\n});\n\ndocument.addEventListener(\"keypress\", function () {\n\tconsole.log(\"keypress!\");\n\tgm.update();\n});\n\nfunction update () {\n\tgm.update(framerate);\n};\n\nfunction draw () {\n\tdocument.getElementById(\"pos-name\").innerHTML = gm.ship.transform.position.data;\n};\n\nsetInterval(update, framerate);\nsetInterval(draw, framerate * 60);\n"],"names":["app","appDir","remote"],"mappings":";;;;;;;;AAAO,IAAI,KAAK,GAAG,YAAY;IAC3B,OAAO,cAAc,CAAC;CACzB,CAAC;;ACEF,IAAIA,KAAG,CAAC;AACR,IAAI,OAAO,CAAC,IAAI,KAAK,UAAU,EAAE;IAC7BA,KAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;CACxC,MAAM;IACHA,KAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC;CACjC;AACD,IAAIC,QAAM,GAAG,OAAO,CAAC,GAAG,CAACD,KAAG,CAAC,UAAU,EAAE,CAAC,CAAC;;AAE3C,IAAI,QAAQ,GAAGC,QAAM,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;;AAEnD,UAAe,QAAQ,CAAC,GAAG,CAAC;;MCZtB,aAAa,GAAG,OAAO,CAAC,gBAAgB,CAAC,EAAE;MAChD,MAAM,GAAG,aAAa,CAAC,MAAM;MAC7B,MAAM,GAAG,aAAa,CAAC,MAAM;AAE9B,MAAM,CAAC,WAAW,GAAG,UAAU,UAAU,EAAE,QAAQ,EAAE;CACpD,IAAI,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;CAC9C,IAAI,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;EAC1C,OAAO,CAAC,GAAG,CAAC,CAAC;EACb,CAAC,CAAC;CACH,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC;CACxB,CAAC;;AAEF,MAAM,CAAC,QAAQ,GAAG,SAAS,UAAU,EAAE,QAAQ,EAAE;CAChD,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;CAC3D,CAAC;;AAEF,AAAO,MAAM,SAAS,CAAC;CACtB,WAAW,CAAC,QAAQ,EAAE;EACrB,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC5E;;CAED,SAAS,CAAC,WAAW,EAAE;EACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EAChD,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;EAC/B;;CAED,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1D,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;EAC/B;;CAED,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACf,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACtC;;;AC/BK,MAAM,UAAU,CAAC;CACvB,WAAW,CAAC,UAAU,EAAE;EACvB,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;EAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;EACpD;;;ACJK,MAAM,IAAI,SAAS,UAAU,CAAC;CACpC,WAAW,CAAC,UAAU,EAAE;EACvB,KAAK,CAAC,UAAU,CAAC,CAAC;EAClB,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;EAC9B,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;EAClC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;EAC5B,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;EAClC,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;EAC1B,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;EAChC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;EAC9B,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC;EACpC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;EACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;EAClB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;EAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;EAChB,OAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;EAC3D;;CAED,OAAO,CAAC,CAAC,MAAM,EAAE;EAChB,IAAI,IAAI,GAAG,MAAM,IAAI,OAAO,EAAE;GAC7B,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC;GACrB,OAAO,CAAC,CAAC;GACT,MAAM;GACN,IAAI,QAAQ,GAAG,OAAO,GAAG,IAAI,CAAC;GAC9B,IAAI,GAAG,OAAO,CAAC;GACf,OAAO,QAAQ,CAAC;GAChB;EACD;;CAED,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACnB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAClC;;CAED,IAAI,CAAC,CAAC,GAAG,EAAE;EACV,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;EACnH;;CAED;;ACrCM,MAAM,QAAQ,CAAC;CACrB,WAAW,CAAC,UAAU,EAAE;EACvB,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC;EACjC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;EAC7B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACnB,IAAI,CAAC,YAAY,GAAG;GACnB,IAAI,EAAE,eAAe;GACrB,KAAK,EAAE,CAAC;GACR,OAAO,EAAE,EAAE;GACX,IAAI,EAAE,CAAC;GACP,OAAO,EAAE,GAAG;GACZ,GAAG,EAAE,CAAC;GACN,MAAM,EAAE,GAAG;GACX,KAAK,EAAE,CAAC;GACR,QAAQ,EAAE,GAAG;GACb,CAAC;EACF;;CAED,SAAS,CAAC,UAAU,EAAE;EACrB,OAAO,CAAC,GAAG,CAAC,qCAAqC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;EACrE,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;EAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EACtB,OAAO,CAAC,CAAC;EACT;;;ACvBK,MAAM,WAAW,CAAC;CACxB,WAAW,CAAC,IAAI,EAAE;EACjB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC;EACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;EAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;EAChE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;EAEvB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1C;;CAED,MAAM,CAAC,CAAC,SAAS,EAAE;EAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;EAC7D;;CAED,KAAK,CAAC,GAAG;EACR,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;EACnB,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,kBAAkB,EAAE,CAAC;EACnE;CACD;;ACVD,IAAI,SAAS,GAAG,IAAI,GAAG,EAAE;;AAEzB,IAAI,EAAE,GAAG,IAAI,WAAW,EAAE,CAAC;;AAE3B,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;;AAElD,IAAI,GAAG,GAAGC,eAAM,CAAC,GAAG,CAAC;AACrB,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;;;;AAI3C,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;;AAEtF,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;IACtD,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,KAAK,EAAE,CAAC;IACrD,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;IACnE,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC;IACzD,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;CACjE,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC;CAChF,CAAC,CAAC;;AAEH,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,YAAY;CACjD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;CACzB,EAAE,CAAC,MAAM,EAAE,CAAC;CACZ,CAAC,CAAC;;AAEH,SAAS,MAAM,IAAI;CAClB,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;CACrB,CAAC;;AAEF,SAAS,IAAI,IAAI;CAChB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC;CAChF,CAAC;;AAEF,WAAW,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;AAC/B,WAAW,CAAC,IAAI,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC"}