{"version":3,"file":"background.js","sources":["app/vendor/electron_boilerplate/dev_helper.js","app/vendor/electron_boilerplate/window_state.js","app/env.js","app/background.js"],"sourcesContent":["import { app, Menu, BrowserWindow } from 'electron';\n\nvar setDevMenu = function () {\n    var devMenu = Menu.buildFromTemplate([{\n        label: 'Development',\n        submenu: [{\n            label: 'Reload',\n            accelerator: 'CmdOrCtrl+R',\n            click: function () {\n                BrowserWindow.getFocusedWindow().webContents.reloadIgnoringCache();\n            }\n        },{\n            label: 'Toggle DevTools',\n            accelerator: 'Alt+CmdOrCtrl+I',\n            click: function () {\n                BrowserWindow.getFocusedWindow().toggleDevTools();\n            }\n        },{\n            label: 'Quit',\n            accelerator: 'CmdOrCtrl+Q',\n            click: function () {\n                app.quit();\n            }\n        }]\n    }]);\n    Menu.setApplicationMenu(devMenu);\n};\n\nexport default {\n    setDevMenu: setDevMenu,\n}\n","// Simple module to help you remember the size and position of windows.\n// Can be used for more than one window, just construct many\n// instances of it and give each different name.\n\nimport { app } from 'electron';\nimport jetpack from 'fs-jetpack';\n\nexport default function (name, defaults) {\n\n    var userDataDir = jetpack.cwd(app.getPath('userData'));\n    var stateStoreFile = 'window-state-' + name +'.json';\n    var state = {\n        width: defaults.width,\n        height: defaults.height\n    };\n\n    try {\n        var loadedState = userDataDir.read(stateStoreFile, 'json');\n        if (loadedState != null) {\n            state = loadedState;\n        }\n    } catch (err) {\n        // For some reason json can't be read.\n        // No worries, we have defaults.\n    }\n\n    var saveState = function (win) {\n        if (!win.isMaximized() && !win.isMinimized()) {\n            var position = win.getPosition();\n            var size = win.getSize();\n            state.x = position[0];\n            state.y = position[1];\n            state.width = size[0];\n            state.height = size[1];\n        }\n        state.isMaximized = win.isMaximized();\n        userDataDir.write(stateStoreFile, state, { atomic: true });\n    };\n\n    return {\n        get x() { return state.x; },\n        get y() { return state.y; },\n        get width() { return state.width; },\n        get height() { return state.height; },\n        get isMaximized() { return state.isMaximized; },\n        saveState: saveState\n    };\n}\n","// Simple module exposes environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\nvar app;\nif (process.type === 'renderer') {\n    app = require('electron').remote.app;\n} else {\n    app = require('electron').app;\n}\nvar appDir = jetpack.cwd(app.getAppPath());\n\nvar manifest = appDir.read('package.json', 'json');\n\nexport default manifest.env;\n","// This is main process of Electron, started as first thing when your\n// app starts. This script is running through entire life of your application.\n// It doesn't have any windows which you can see on screen, but we can open\n// window from here.\n\nimport { app, BrowserWindow } from 'electron';\nimport devHelper from './vendor/electron_boilerplate/dev_helper';\nimport windowStateKeeper from './vendor/electron_boilerplate/window_state';\n\n// Special module holding environment variables which you declared\n// in config/env_xxx.json file.\nimport env from './env';\n\nvar mainWindow;\n\n// Preserver of the window size and position between app launches.\nvar mainWindowState = windowStateKeeper('main', {\n    width: 1000,\n    height: 600\n});\n\napp.on('ready', function () {\n\n    mainWindow = new BrowserWindow({\n        x: mainWindowState.x,\n        y: mainWindowState.y,\n        width: mainWindowState.width,\n        height: mainWindowState.height\n    });\n\n    if (mainWindowState.isMaximized) {\n        mainWindow.maximize();\n    }\n\n    mainWindow.loadURL('file://' + __dirname + '/app.html');\n\n    if (env.name !== 'production') {\n        devHelper.setDevMenu();\n        mainWindow.openDevTools();\n    }\n\n    mainWindow.on('close', function () {\n        mainWindowState.saveState(mainWindow);\n    });\n});\n\napp.on('window-all-closed', function () {\n    app.quit();\n});\n"],"names":["Menu","app","BrowserWindow"],"mappings":"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"}